package main

import (
	"reflect"
	"testing"
)

// go test -v
func TestOrderedCount(t *testing.T) {
	var tt = []struct {
		input1   [][2]int
		expected int
	}{
		{[][2]int{{1, 5}}, 4},
		{[][2]int{{1, 5}, {6, 10}}, 8},
		{[][2]int{{1, 5}, {1, 5}}, 4},
		{[][2]int{{1, 4}, {7, 10}, {3, 5}}, 7},
		{[][2]int{{-1_000_000_000, 1_000_000_000}}, 2_000_000_000},
		{[][2]int{{0, 20}, {-100_000_000, 10}, {30, 40}}, 100_000_030},
	}

	for _, tc := range tt {
		t.Run("NextBigger", func(t *testing.T) {
			res := SumOfIntervals(tc.input1)
			if !reflect.DeepEqual(res, tc.expected) {
				t.Errorf("\nexpected:%v\ngot:%v", tc.expected, res)
			}
		})
	}
	for _, tc := range tt {
		t.Run("SumOfIntervalsA", func(t *testing.T) {
			res := SumOfIntervalsA(tc.input1)
			if !reflect.DeepEqual(res, tc.expected) {
				t.Errorf("\nexpected:%v\ngot:%v", tc.expected, res)
			}
		})
	}
}

//!+bench
// go test -v  -bench=.
// go test -bench . -benchmem
func BenchmarkSumOfIntervals(b *testing.B) {
	for index := 0; index < b.N; index++ {
		SumOfIntervals([][2]int{{871449449, 877662470}, {-268549689, -261004812}, {-835388635, -828788097}, {45401873, 52949237}, {177585208, 181781905}, {-100271665, -95363846}, {946075754, 955466359}, {-190173129, -184597153}, {575878820, 582558805}, {931946650, 933874677}, {-936129632, -930417247}, {248185991, 257578529}, {-426223222, -424242075}, {154989578, 163705875}, {-122886354, -113896263}, {344242734, 347915984}, {568945229, 577721633}, {-925749993, -922270570}, {205474742, 214161100}, {716163839, 724628324}, {177727828, 185783868}, {-965833449, -962105792}, {820927677, 825738396}, {-480788086, -477935796}, {806756227, 813990833}, {-94492621, -87617882}, {-703043472, -695366584}, {328649423, 335409295}, {524710666, 529775316}, {63389614, 72452166}, {-295713716, -290504334}, {370014079, 373340893}, {351649247, 354172128}, {-582322518, -581050407}, {31140029, 37528015}, {-637166603, -631344207}, {-37576383, -33001672}, {-573256034, -571302554}, {-605696202, -603620115}, {511654905, 516529734}, {629323998, 635153685}, {346795484, 347912424}, {-113634886, -108451031}, {800682686, 810434750}, {154461178, 162939827}, {286277529, 293924912}, {-454116387, -448913451}, {89858526, 97125547}, {649086953, 657533096}, {-530787879, -523265752}, {-290738972, -281512320}, {-826247608, -824751559}, {315906576, 318288458}, {-739144162, -733315222}, {-336285252, -329150127}, {450540367, 457192580}, {61400390, 71169325}, {822545853, 826230619}, {-556688678, -554599988}, {137432571, 140353675}, {760205611, 764304595}, {669465092, 672446294}, {283469452, 292279288}, {932423840, 942000032}, {-107473025, -100158628}, {302629265, 309878943}, {276267961, 282926551}, {-155774639, -148444154}, {-112913894, -108691879}, {363046187, 372192225}, {-482625447, -481146023}, {82736191, 91797125}, {-886049930, -884222681}, {869946233, 877040802}, {-559446115, -552055920}, {623340887, 631043208}, {-787517798, -785368930}, {-845715773, -843845839}, {-222597315, -219682653}, {424041314, 430116028}, {305008949, 314769567}, {-913196561, -904109818}, {-950956261, -942814651}, {104726839, 108764488}, {335989331, 340855851}, {458609191, 463810018}, {722110568, 726888538}, {188034425, 192454358}, {-413626357, -410239348}, {612594510, 620122330}, {970432564, 975371235}, {120574767, 130561052}, {969316529, 977543705}, {-202163253, -193740015}, {-622698736, -617301688}, {-798898313, -790498310}, {453658058, 455645040}, {7946890, 17121480}, {505111519, 511836930}, {-597025947, -595093407}, {791185865, 792660600}, {438035016, 440267956}, {-512433310, -510748047}, {965201440, 973724612}, {946933926, 951933288}, {631791291, 639136648}, {910275187, 920035905}, {-886896988, -882288615}, {-653554866, -652381358}, {58595802, 63686873}, {-323725123, -317568283}, {532596895, 535340231}, {816986679, 821433378}, {-496402766, -489746816}, {961596151, 967244630}, {-409587403, -404296068}, {303362497, 312665273}, {-128445693, -126423445}, {227753064, 236369235}, {-775339589, -768128853}, {-781291156, -778649404}, {-902689614, -895828324}, {278018001, 281631146}, {363734945, 365253010}, {742463667, 750939763}, {-856793755, -847727568}, {961447623, 967757510}, {-769235179, -766073300}, {492261401, 496269293}, {-617259596, -613409170}, {-756950892, -747625211}, {540598808, 545358203}, {606261212, 613946211}, {778268836, 785717931}, {-191878670, -184287874}, {-630424799, -624173927}, {-584061098, -574541735}, {-980952989, -978403135}, {-804929635, -797644764}, {178182032, 187106952}, {993165974, 997171298}, {-315157915, -307801497}, {172596864, 179513271}, {-129714131, -128165935}, {968091932, 975362179}, {-186489080, -182397209}, {-38377981, -32817600}, {-697609153, -693082791}, {-358691195, -357648710}, {-697949670, -691815243}, {-419609092, -414871176}, {-448121511, -439964284}, {-45694365, -40425113}, {260974077, 262858728}, {887332909, 888595542}, {-978883669, -976497872}, {104416520, 109836663}, {-47118131, -45415571}, {60248061, 65707811}, {587227313, 595610806}, {-39050561, -31447317}, {127072365, 130798123}, {979928488, 983840255}, {960122432, 961602802}, {251244566, 258582182}, {185204408, 187622290}, {-315463255, -310494662}, {849875110, 853039917}, {305786410, 314926122}, {-406853572, -402003016}, {-627492038, -626067006}, {-443438312, -436458739}, {302051521, 310791524}, {-49350521, -41212059}, {57531350, 60827650}, {-955392966, -952591599}, {-370814549, -364525756}, {408121995, 413428384}, {-725324188, -716324368}, {-902823993, -892906964}, {-228228569, -221738055}, {-301916704, -300802080}, {347628098, 357168327}, {-145726938, -142108003}, {-704649567, -701251073}, {696793585, 705032543}, {736027502, 737921491}, {715118575, 724734011}, {714051039, 721693449}, {-52189667, -45394886}, {833039840, 840347217}, {-997631995, -988998039}, {390173986, 396771384}, {-338692521, -333429434}, {-978393694, -977098602}, {-275664038, -273706972}, {350164738, 354773845}, {588707915, 594737179}, {-508486620, -507400470}, {581599586, 583383195}})
	}
}

func BenchmarkSumOfIntervalsA(b *testing.B) {
	for index := 0; index < b.N; index++ {
		SumOfIntervalsA([][2]int{{871449449, 877662470}, {-268549689, -261004812}, {-835388635, -828788097}, {45401873, 52949237}, {177585208, 181781905}, {-100271665, -95363846}, {946075754, 955466359}, {-190173129, -184597153}, {575878820, 582558805}, {931946650, 933874677}, {-936129632, -930417247}, {248185991, 257578529}, {-426223222, -424242075}, {154989578, 163705875}, {-122886354, -113896263}, {344242734, 347915984}, {568945229, 577721633}, {-925749993, -922270570}, {205474742, 214161100}, {716163839, 724628324}, {177727828, 185783868}, {-965833449, -962105792}, {820927677, 825738396}, {-480788086, -477935796}, {806756227, 813990833}, {-94492621, -87617882}, {-703043472, -695366584}, {328649423, 335409295}, {524710666, 529775316}, {63389614, 72452166}, {-295713716, -290504334}, {370014079, 373340893}, {351649247, 354172128}, {-582322518, -581050407}, {31140029, 37528015}, {-637166603, -631344207}, {-37576383, -33001672}, {-573256034, -571302554}, {-605696202, -603620115}, {511654905, 516529734}, {629323998, 635153685}, {346795484, 347912424}, {-113634886, -108451031}, {800682686, 810434750}, {154461178, 162939827}, {286277529, 293924912}, {-454116387, -448913451}, {89858526, 97125547}, {649086953, 657533096}, {-530787879, -523265752}, {-290738972, -281512320}, {-826247608, -824751559}, {315906576, 318288458}, {-739144162, -733315222}, {-336285252, -329150127}, {450540367, 457192580}, {61400390, 71169325}, {822545853, 826230619}, {-556688678, -554599988}, {137432571, 140353675}, {760205611, 764304595}, {669465092, 672446294}, {283469452, 292279288}, {932423840, 942000032}, {-107473025, -100158628}, {302629265, 309878943}, {276267961, 282926551}, {-155774639, -148444154}, {-112913894, -108691879}, {363046187, 372192225}, {-482625447, -481146023}, {82736191, 91797125}, {-886049930, -884222681}, {869946233, 877040802}, {-559446115, -552055920}, {623340887, 631043208}, {-787517798, -785368930}, {-845715773, -843845839}, {-222597315, -219682653}, {424041314, 430116028}, {305008949, 314769567}, {-913196561, -904109818}, {-950956261, -942814651}, {104726839, 108764488}, {335989331, 340855851}, {458609191, 463810018}, {722110568, 726888538}, {188034425, 192454358}, {-413626357, -410239348}, {612594510, 620122330}, {970432564, 975371235}, {120574767, 130561052}, {969316529, 977543705}, {-202163253, -193740015}, {-622698736, -617301688}, {-798898313, -790498310}, {453658058, 455645040}, {7946890, 17121480}, {505111519, 511836930}, {-597025947, -595093407}, {791185865, 792660600}, {438035016, 440267956}, {-512433310, -510748047}, {965201440, 973724612}, {946933926, 951933288}, {631791291, 639136648}, {910275187, 920035905}, {-886896988, -882288615}, {-653554866, -652381358}, {58595802, 63686873}, {-323725123, -317568283}, {532596895, 535340231}, {816986679, 821433378}, {-496402766, -489746816}, {961596151, 967244630}, {-409587403, -404296068}, {303362497, 312665273}, {-128445693, -126423445}, {227753064, 236369235}, {-775339589, -768128853}, {-781291156, -778649404}, {-902689614, -895828324}, {278018001, 281631146}, {363734945, 365253010}, {742463667, 750939763}, {-856793755, -847727568}, {961447623, 967757510}, {-769235179, -766073300}, {492261401, 496269293}, {-617259596, -613409170}, {-756950892, -747625211}, {540598808, 545358203}, {606261212, 613946211}, {778268836, 785717931}, {-191878670, -184287874}, {-630424799, -624173927}, {-584061098, -574541735}, {-980952989, -978403135}, {-804929635, -797644764}, {178182032, 187106952}, {993165974, 997171298}, {-315157915, -307801497}, {172596864, 179513271}, {-129714131, -128165935}, {968091932, 975362179}, {-186489080, -182397209}, {-38377981, -32817600}, {-697609153, -693082791}, {-358691195, -357648710}, {-697949670, -691815243}, {-419609092, -414871176}, {-448121511, -439964284}, {-45694365, -40425113}, {260974077, 262858728}, {887332909, 888595542}, {-978883669, -976497872}, {104416520, 109836663}, {-47118131, -45415571}, {60248061, 65707811}, {587227313, 595610806}, {-39050561, -31447317}, {127072365, 130798123}, {979928488, 983840255}, {960122432, 961602802}, {251244566, 258582182}, {185204408, 187622290}, {-315463255, -310494662}, {849875110, 853039917}, {305786410, 314926122}, {-406853572, -402003016}, {-627492038, -626067006}, {-443438312, -436458739}, {302051521, 310791524}, {-49350521, -41212059}, {57531350, 60827650}, {-955392966, -952591599}, {-370814549, -364525756}, {408121995, 413428384}, {-725324188, -716324368}, {-902823993, -892906964}, {-228228569, -221738055}, {-301916704, -300802080}, {347628098, 357168327}, {-145726938, -142108003}, {-704649567, -701251073}, {696793585, 705032543}, {736027502, 737921491}, {715118575, 724734011}, {714051039, 721693449}, {-52189667, -45394886}, {833039840, 840347217}, {-997631995, -988998039}, {390173986, 396771384}, {-338692521, -333429434}, {-978393694, -977098602}, {-275664038, -273706972}, {350164738, 354773845}, {588707915, 594737179}, {-508486620, -507400470}, {581599586, 583383195}})
	}
}

/*
goos: linux
goarch: amd64
pkg: github.com/tarekbadrshalaan/codewars/4-kyu/10-Sum-of-Intervals/go
cpu: Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz
BenchmarkSumOfIntervals-8           2002            592097 ns/op           10832 B/op         19 allocs/op
BenchmarkSumOfIntervalsA-8         67390             16933 ns/op            3288 B/op          4 allocs/op
PASS
ok      github.com/tarekbadrshalaan/codewars/4-kyu/10-Sum-of-Intervals/go       3.427s
*/
